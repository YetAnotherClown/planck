"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[589],{5076:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>i,contentTitle:()=>l,default:()=>u,frontMatter:()=>o,metadata:()=>n,toc:()=>c});const n=JSON.parse('{"id":"plugins/matter_hooks","title":"Matter Hooks","description":"A Plugin to add the Matter topoRuntime and Hooks to Planck","source":"@site/docs/plugins/matter_hooks.md","sourceDirName":"plugins","slug":"/plugins/matter_hooks","permalink":"/planck/docs/plugins/matter_hooks","draft":false,"unlisted":false,"editUrl":"https://github.com/YetAnotherClown/planck/edit/main/docs/plugins/matter_hooks.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Matter Hooks","description":"A Plugin to add the Matter topoRuntime and Hooks to Planck","sidebar_position":2},"sidebar":"defaultSidebar","previous":{"title":"Jabby","permalink":"/planck/docs/plugins/jabby"},"next":{"title":"Matter Debugger","permalink":"/planck/docs/plugins/matter_debugger"}}');var s=r(74848),a=r(28453);const o={title:"Matter Hooks",description:"A Plugin to add the Matter topoRuntime and Hooks to Planck",sidebar_position:2},l=void 0,i={},c=[{value:"Installation",id:"installation",level:3},{value:"Setup and Use",id:"setup-and-use",level:3},{value:"API",id:"api",level:3},{value:"Using with Matter",id:"using-with-matter",level:3}];function d(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h3:"h3",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(t.p,{children:["The Matter Hooks plugin provides a way to use the Matter topoRuntime to use any\r\nhook made for ",(0,s.jsx)(t.a,{href:"https://github.com/matter-ecs/matter",children:"Matter"}),"."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["This Plugin can be used with any ECS library. It ",(0,s.jsx)(t.em,{children:(0,s.jsx)(t.strong,{children:"doesn't"})})," require Matter for you to use this hooks.\r\nYou can also use the extended ",(0,s.jsx)(t.a,{href:"https://github.com/matter-ecs/matter-hooks",children:"matter-hooks"})," library by the Matter team with this Plugin."]})}),"\n",(0,s.jsx)(t.h3,{id:"installation",children:"Installation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-toml",metastring:'title="wally.toml"',children:'[dependencies]\r\nMatterHooks = "yetanotherclown/planck-matter-hooks@0.2.0-rc.1"\n'})}),"\n",(0,s.jsx)(t.h3,{id:"setup-and-use",children:"Setup and Use"}),"\n",(0,s.jsx)(t.p,{children:"First, let's make a system and use our hooks."}),"\n",(0,s.jsx)(t.p,{children:"Hooks are exported from the Matter Hooks plugin,\r\nso we can use them within our systems like so:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-lua",metastring:'title="src/shared/systems/systemA.luau"',children:'local MatterHooks = require("@packages/MatterHooks")\r\n\r\nlocal useDeltaTime = MatterHooks.useDeltaTime\r\nlocal useEvent = MatterHooks.useEvent\r\nlocal useThrottle = MatterHooks.useThrottle\r\n\r\nfunction systemA()\r\n    if useThrottle(5) then\r\n        print("Throttled for 5 seconds")\r\n    end\r\nend\r\n\r\nreturn systemA\n'})}),"\n",(0,s.jsx)(t.p,{children:"Then we need to create the scheduler, and add the Hooks Plugin to it."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-lua",metastring:'title="src/shared/scheduler.luau"',children:'local Planck = require("@packages/Planck")\r\nlocal Scheduler = Planck.Scheduler\r\n\r\nlocal MatterHooks = require("@packages/MatterHooks")\r\nlocal hooksPlugin = MatterHooks.new()\r\n\r\nlocal scheduler = scheduler.new()\r\n    :addPlugin(hooksPlugin)\r\n\r\nreturn scheduler\n'})}),"\n",(0,s.jsx)(t.p,{children:"And finally, add the system to your scheduler."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-lua",metastring:'title="src/shared/startup.luau"',children:'local scheduler = require("@shared/scheduler")\r\nlocal systemA = require("@shared/systems/systemA")\r\n\r\nreturn function()\r\n    scheduler\r\n        :addSystem(systemA)\r\nend\n'})}),"\n",(0,s.jsx)(t.h3,{id:"api",children:"API"}),"\n",(0,s.jsx)(t.p,{children:"API can be found on the Matter documentation site, click the following links to be redirected."}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://matter-ecs.github.io/matter/api/Matter#log",children:"Scheduler.log"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://matter-ecs.github.io/matter/api/Matter#useDeltaTime",children:"Scheduler.useDeltaTime"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://matter-ecs.github.io/matter/api/Matter#useEvent",children:"Scheduler.useEvent"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://matter-ecs.github.io/matter/api/Matter#useHookState",children:"Scheduler.useHookState"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.a,{href:"https://matter-ecs.github.io/matter/api/Matter#useThrottle",children:"Scheduler.useThrottle"})}),"\n"]}),"\n",(0,s.jsx)(t.h3,{id:"using-with-matter",children:"Using with Matter"}),"\n",(0,s.jsx)(t.p,{children:"To use Matter's Hooks in Matter, you still need to use this Plugin."}),"\n",(0,s.jsxs)(t.p,{children:["By default, the Plugin will look for the official Matter library in ",(0,s.jsx)(t.code,{children:"ReplicatedStorage/Packages/_Index"}),".\r\nThis should work if you're installing from Wally. If you're not, you can pass in a reference to the\r\nMatter library in the Plugin constructor."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-lua",metastring:'title="src/shared/scheduler.luau"',children:'local ReplicatedStorage = game:GetService("ReplicatedStorage")\r\n\r\nlocal Planck = require("@packages/Planck")\r\nlocal Scheduler = Planck.Scheduler\r\n\r\nlocal MatterHooks = require("@packages/MatterHooks")\r\nlocal hooksPlugin = MatterHooks.new(ReplicatedStorage.Matter)\r\n\r\nlocal scheduler = scheduler.new()\r\n    :addPlugin(hooksPlugin)\r\n\r\nreturn scheduler\n'})})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},28453:(e,t,r)=>{r.d(t,{R:()=>o,x:()=>l});var n=r(96540);const s={},a=n.createContext(s);function o(e){const t=n.useContext(a);return n.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),n.createElement(a.Provider,{value:t},e.children)}}}]);